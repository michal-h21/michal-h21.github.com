<?xml version="1.0" encoding="iso-8859-1" ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">  
<!--http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd-->  
<html xmlns="http://www.w3.org/1999/xhtml"  
> 
<head><title>Unicode Filter</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)" /> 
<meta name="originator" content="TeX4ht (http://www.tug.org/tex4ht/)" /> 
<!-- xhtml,3,next,html --> 
<meta name="src" content="xtpipes.tex" /> 
<meta name="date" content="2014-05-24 12:32:00" /> 
<link rel="stylesheet" type="text/css" href="xtpipes.css" /> 
</head><body 
>
   <!--l. 3596--><div class="crosslinks"><p class="noindent">[<a 
 href="xtpipessu49.html" >next</a>] [<a 
 href="xtpipessu48.html" >prev</a>] [<a 
 href="xtpipessu48.html#tailxtpipessu48.html" >prev-tail</a>] [<a 
 href="xtpipesse9.html#tailxtpipessu47.html">tail</a>] [<a 
 href="xtpipessu47.html#xtpipesse10.html" >up</a>] </p></div>
   <h4 class="subsectionHead"><span class="titlemark">9.2   </span> <a 
  id="x61-690009.2"></a>Unicode Filter</h4>
<!--l. 3599--><p class="noindent" >Non-ASCII characters are translated into unicode hexadecimal entities. The same
holds for ascii characters listed within the filter.
</p>
           <!--l. 3618--><p class="noindent" ><a 
 id="PrTx69001"><span 
class="cmtt-10">&#x003C;..</span></a><a 
 href="#PrTx69001"  id="QPrTx199"><span 
class="cmtt-10">XtpipesUni.java</span></a><a 
 id="PrTx69002"><span 
class="cmtt-10">..&#x003E;</span></a><br /><span class="ShowCode" style="font-family:monospace;white-space:nowrap;" ><!--x-->&#x00A0;<span 
class="cmtt-10">/*</span>&#x00A0;<span 
class="cmtt-10">XtpipesUni.java</span>&#x00A0;<span 
class="cmtt-10">(2014-05-24-12:32),</span>&#x00A0;<span 
class="cmtt-10">generated</span>&#x00A0;<span 
class="cmtt-10">from</span>&#x00A0;<span 
class="cmtt-10">xtpipes.tex</span>
      <br /><!--x-->&#x00A0;&#x00A0;&#x00A0;&#x00A0;<span 
class="cmtt-10">Copyright</span>&#x00A0;<span 
class="cmtt-10">(C)</span>&#x00A0;<span 
class="cmtt-10">2009-2010</span>&#x00A0;<span 
class="cmtt-10">TeX</span>&#x00A0;<span 
class="cmtt-10">Users</span>&#x00A0;<span 
class="cmtt-10">Group</span>
      <br /><!--x-->&#x00A0;&#x00A0;&#x00A0;&#x00A0;<span 
class="cmtt-10">Copyright</span>&#x00A0;<span 
class="cmtt-10">(C)</span>&#x00A0;<span 
class="cmtt-10">2002-2009</span>&#x00A0;<span 
class="cmtt-10">Eitan</span>&#x00A0;<span 
class="cmtt-10">M.</span>&#x00A0;<span 
class="cmtt-10">Gurari</span>
      <br /><!--x-->&#x00A0;<a 
 id="PrTx69003"  href="xtpipessu33.html#PrTx52003"><span 
class="cmtt-10">&#x003C;.</span></a><a 
 href="xtpipes.html#PrTx2"><span 
class="cmtt-10">TeX4ht copyright</span></a><a 
 id="PrTx69004"  href="xtpipessu50.html#PrTx73004"><span 
class="cmtt-10">.&#x003E;</span></a>&#x00A0;<span 
class="cmtt-10">*/</span>
      <br /><!--x-->&#x00A0;<span 
class="cmtt-10">package</span>&#x00A0;<span 
class="cmtt-10">xtpipes;</span>
      <br /><!--x-->&#x00A0;<span 
class="cmtt-10">public</span>&#x00A0;<span 
class="cmtt-10">class</span>&#x00A0;<span 
class="cmtt-10">XtpipesUni{</span>
      <br /><!--x-->&#x00A0;&#x00A0;&#x00A0;&#x00A0;<a 
 id="PrTx69005"><span 
class="cmtt-10">&#x003C;.</span></a><a 
 href="#PrTx69009"><span 
class="cmtt-10">String toUni( char[], start, length, filter )</span></a><a 
 id="PrTx69006"><span 
class="cmtt-10">.&#x003E;</span></a>
      <br /><!--x-->&#x00A0;&#x00A0;&#x00A0;&#x00A0;<a 
 id="PrTx69007"><span 
class="cmtt-10">&#x003C;.</span></a><a 
 href="#PrTx69011"><span 
class="cmtt-10">String toUni( String, filter )</span></a><a 
 id="PrTx69008"><span 
class="cmtt-10">.&#x003E;</span></a>
      <br /><!--x-->&#x00A0;<span 
class="cmtt-10">}</span>
      <br /><!--x-->&#x00A0;-_-_-</span>
           </p><!--l. 3650--><p class="noindent" ><a 
 id="PrTx69009"><span 
class="cmtt-10">&#x003C;..</span></a><a 
 href="#PrTx69005"  id="QPrTx200"><span 
class="cmtt-10">String</span>&#x00A0;<span 
class="cmtt-10">toUni(</span>&#x00A0;<span 
class="cmtt-10">char[],</span>&#x00A0;<span 
class="cmtt-10">start,</span>&#x00A0;<span 
class="cmtt-10">length,</span>&#x00A0;<span 
class="cmtt-10">filter</span>&#x00A0;<span 
class="cmtt-10">)</span></a><a 
 id="PrTx69010"><span 
class="cmtt-10">..&#x003E;</span></a><br /><span class="ShowCode" style="font-family:monospace;white-space:nowrap;" ><!--x-->&#x00A0;<span 
class="cmtt-10">private</span>&#x00A0;<span 
class="cmtt-10">static</span>&#x00A0;<span 
class="cmtt-10">int</span>&#x00A0;<span 
class="cmtt-10">D800</span>&#x00A0;<span 
class="cmtt-10">=</span>&#x00A0;<span 
class="cmtt-10">Integer.parseInt("D800",</span>&#x00A0;<span 
class="cmtt-10">16);</span>
      <br /><!--x-->&#x00A0;<span 
class="cmtt-10">private</span>&#x00A0;<span 
class="cmtt-10">static</span>&#x00A0;<span 
class="cmtt-10">int</span>&#x00A0;<span 
class="cmtt-10">DFFF</span>&#x00A0;<span 
class="cmtt-10">=</span>&#x00A0;<span 
class="cmtt-10">Integer.parseInt("DFFF",</span>&#x00A0;<span 
class="cmtt-10">16);</span>
      <br /><!--x-->&#x00A0;<span 
class="cmtt-10">private</span>&#x00A0;<span 
class="cmtt-10">static</span>&#x00A0;<span 
class="cmtt-10">int</span>&#x00A0;<span 
class="cmtt-10">DC00</span>&#x00A0;<span 
class="cmtt-10">=</span>&#x00A0;<span 
class="cmtt-10">Integer.parseInt("DC00",</span>&#x00A0;<span 
class="cmtt-10">16);</span>
      <br /><!--x-->&#x00A0;<span 
class="cmtt-10">private</span>&#x00A0;<span 
class="cmtt-10">static</span>&#x00A0;<span 
class="cmtt-10">int</span>&#x00A0;<span 
class="cmtt-10">X400</span>&#x00A0;<span 
class="cmtt-10">=</span>&#x00A0;<span 
class="cmtt-10">Integer.parseInt("400",16);</span>
      <br /><!--x-->&#x00A0;<span 
class="cmtt-10">private</span>&#x00A0;<span 
class="cmtt-10">static</span>&#x00A0;<span 
class="cmtt-10">int</span>&#x00A0;<span 
class="cmtt-10">X10000</span>&#x00A0;<span 
class="cmtt-10">=</span>&#x00A0;<span 
class="cmtt-10">Integer.parseInt("10000",16);</span>
      <br /><!--x-->&#x00A0;
      <br /><!--x-->&#x00A0;
      <br /><!--x-->&#x00A0;<span 
class="cmtt-10">public</span>&#x00A0;<span 
class="cmtt-10">static</span>&#x00A0;<span 
class="cmtt-10">String</span>&#x00A0;<span 
class="cmtt-10">toUni(</span>&#x00A0;<span 
class="cmtt-10">char[]</span>&#x00A0;<span 
class="cmtt-10">ch,</span>&#x00A0;<span 
class="cmtt-10">int</span>&#x00A0;<span 
class="cmtt-10">start,</span>&#x00A0;<span 
class="cmtt-10">int</span>&#x00A0;<span 
class="cmtt-10">length,</span>
      <br /><!--x-->&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;<span 
class="cmtt-10">String</span>&#x00A0;<span 
class="cmtt-10">filter</span>&#x00A0;<span 
class="cmtt-10">){</span>
      <br /><!--x-->&#x00A0;&#x00A0;&#x00A0;&#x00A0;<span 
class="cmtt-10">StringBuffer</span>&#x00A0;<span 
class="cmtt-10">buf</span>&#x00A0;<span 
class="cmtt-10">=</span>&#x00A0;<span 
class="cmtt-10">new</span>&#x00A0;<span 
class="cmtt-10">StringBuffer(length);</span>
      <br /><!--x-->&#x00A0;&#x00A0;&#x00A0;&#x00A0;<span 
class="cmtt-10">for</span>&#x00A0;<span 
class="cmtt-10">(int</span>&#x00A0;<span 
class="cmtt-10">i</span>&#x00A0;<span 
class="cmtt-10">=</span>&#x00A0;<span 
class="cmtt-10">0;</span>&#x00A0;<span 
class="cmtt-10">i</span>&#x00A0;<span 
class="cmtt-10">&#x003C;</span>&#x00A0;<span 
class="cmtt-10">length;</span>&#x00A0;<span 
class="cmtt-10">i++)</span>&#x00A0;<span 
class="cmtt-10">{</span>
      <br /><!--x-->&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;<span 
class="cmtt-10">int</span>&#x00A0;<span 
class="cmtt-10">chr</span>&#x00A0;<span 
class="cmtt-10">=</span>&#x00A0;<span 
class="cmtt-10">ch[</span>&#x00A0;<span 
class="cmtt-10">start</span>&#x00A0;<span 
class="cmtt-10">+</span>&#x00A0;<span 
class="cmtt-10">i</span>&#x00A0;<span 
class="cmtt-10">];</span>
      <br /><!--x-->&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;<span 
class="cmtt-10">boolean</span>&#x00A0;<span 
class="cmtt-10">ascii</span>&#x00A0;<span 
class="cmtt-10">=</span>&#x00A0;&#x00A0;<span 
class="cmtt-10">(chr</span>&#x00A0;<span 
class="cmtt-10">==</span>&#x00A0;<span 
class="cmtt-10">&#8217;\n&#8217;)</span>
      <br /><!--x-->&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;<span 
class="cmtt-10">||</span>&#x00A0;<span 
class="cmtt-10">(chr</span>&#x00A0;<span 
class="cmtt-10">&#x003E;</span>&#x00A0;<span 
class="cmtt-10">31)</span>&#x00A0;<span 
class="cmtt-10">&amp;&amp;</span>&#x00A0;<span 
class="cmtt-10">(chr</span>&#x00A0;<span 
class="cmtt-10">&#x003C;</span>&#x00A0;<span 
class="cmtt-10">127)</span>&#x00A0;<span 
class="cmtt-10">;</span>
      <br /><!--x-->&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;<span 
class="cmtt-10">if(</span>&#x00A0;<span 
class="cmtt-10">filter.indexOf(chr)</span>&#x00A0;<span 
class="cmtt-10">&#x003E;</span>&#x00A0;<span 
class="cmtt-10">-1</span>&#x00A0;<span 
class="cmtt-10">){</span>&#x00A0;<span 
class="cmtt-10">ascii</span>&#x00A0;<span 
class="cmtt-10">=</span>&#x00A0;<span 
class="cmtt-10">false;</span>&#x00A0;<span 
class="cmtt-10">}</span>
      <br /><!--x-->&#x00A0;
      <br /><!--x-->&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;<span 
class="cmtt-10">if(</span>&#x00A0;<span 
class="cmtt-10">(chr</span>&#x00A0;<span 
class="cmtt-10">&#x003E;=</span>&#x00A0;<span 
class="cmtt-10">D800)</span>&#x00A0;<span 
class="cmtt-10">&amp;&amp;</span>&#x00A0;<span 
class="cmtt-10">(chr&#x003C;=</span>&#x00A0;<span 
class="cmtt-10">DFFF)</span>&#x00A0;<span 
class="cmtt-10">){</span>
      <br /><!--x-->&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;<span 
class="cmtt-10">chr</span>&#x00A0;<span 
class="cmtt-10">=</span>&#x00A0;<span 
class="cmtt-10">((ch[i]</span>&#x00A0;<span 
class="cmtt-10">-</span>&#x00A0;<span 
class="cmtt-10">D800)</span>&#x00A0;<span 
class="cmtt-10">*</span>&#x00A0;<span 
class="cmtt-10">X400</span>&#x00A0;<span 
class="cmtt-10">+</span>&#x00A0;<span 
class="cmtt-10">(ch[++i]</span>&#x00A0;<span 
class="cmtt-10">-</span>&#x00A0;<span 
class="cmtt-10">DC00))</span>&#x00A0;<span 
class="cmtt-10">+</span>&#x00A0;<span 
class="cmtt-10">X10000;</span>
      <br /><!--x-->&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;<span 
class="cmtt-10">}</span>
      <br /><!--x-->&#x00A0;
      <br /><!--x-->&#x00A0;
      <br /><!--x-->&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;<span 
class="cmtt-10">buf.append(</span>
      <br /><!--x-->&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;<span 
class="cmtt-10">ascii</span>&#x00A0;<span 
class="cmtt-10">?</span>&#x00A0;<span 
class="cmtt-10">Character.toString((char)</span>&#x00A0;<span 
class="cmtt-10">chr)</span>

      <br /><!--x-->&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;<span 
class="cmtt-10">:</span>&#x00A0;<span 
class="cmtt-10">("&amp;#x"</span>
      <br /><!--x-->&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;<span 
class="cmtt-10">+</span>&#x00A0;<span 
class="cmtt-10">Integer.toHexString(chr).toUpperCase()</span>
      <br /><!--x-->&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;<span 
class="cmtt-10">+</span>&#x00A0;<span 
class="cmtt-10">";"</span>&#x00A0;<span 
class="cmtt-10">)</span>&#x00A0;<span 
class="cmtt-10">);</span>
      <br /><!--x-->&#x00A0;&#x00A0;&#x00A0;&#x00A0;<span 
class="cmtt-10">}</span>
      <br /><!--x-->&#x00A0;&#x00A0;&#x00A0;&#x00A0;<span 
class="cmtt-10">return</span>&#x00A0;<span 
class="cmtt-10">new</span>&#x00A0;<span 
class="cmtt-10">String(buf);</span>
      <br /><!--x-->&#x00A0;<span 
class="cmtt-10">}</span>
      <br /><!--x-->&#x00A0;-_-_-</span>
           </p><!--l. 3658--><p class="noindent" ><a 
 id="PrTx69011"><span 
class="cmtt-10">&#x003C;..</span></a><a 
 href="#PrTx69007"  id="QPrTx201"><span 
class="cmtt-10">String</span>&#x00A0;<span 
class="cmtt-10">toUni(</span>&#x00A0;<span 
class="cmtt-10">String,</span>&#x00A0;<span 
class="cmtt-10">filter</span>&#x00A0;<span 
class="cmtt-10">)</span></a><a 
 id="PrTx69012"><span 
class="cmtt-10">..&#x003E;</span></a><br /><span class="ShowCode" style="font-family:monospace;white-space:nowrap;" ><!--x-->&#x00A0;<span 
class="cmtt-10">public</span>&#x00A0;<span 
class="cmtt-10">static</span>&#x00A0;<span 
class="cmtt-10">String</span>&#x00A0;<span 
class="cmtt-10">toUni(</span>&#x00A0;<span 
class="cmtt-10">String</span>&#x00A0;<span 
class="cmtt-10">s,</span>&#x00A0;<span 
class="cmtt-10">String</span>&#x00A0;<span 
class="cmtt-10">filter</span>&#x00A0;<span 
class="cmtt-10">){</span>
      <br /><!--x-->&#x00A0;&#x00A0;&#x00A0;&#x00A0;<span 
class="cmtt-10">char</span>&#x00A0;<span 
class="cmtt-10">[]</span>&#x00A0;<span 
class="cmtt-10">ch</span>&#x00A0;<span 
class="cmtt-10">=</span>&#x00A0;<span 
class="cmtt-10">s.toCharArray();</span>
      <br /><!--x-->&#x00A0;&#x00A0;&#x00A0;&#x00A0;<span 
class="cmtt-10">int</span>&#x00A0;<span 
class="cmtt-10">length</span>&#x00A0;<span 
class="cmtt-10">=</span>&#x00A0;<span 
class="cmtt-10">ch.length;</span>
      <br /><!--x-->&#x00A0;&#x00A0;&#x00A0;&#x00A0;<span 
class="cmtt-10">return</span>&#x00A0;<span 
class="cmtt-10">toUni(ch,</span>&#x00A0;<span 
class="cmtt-10">0,</span>&#x00A0;<span 
class="cmtt-10">length,</span>&#x00A0;<span 
class="cmtt-10">filter);</span>
      <br /><!--x-->&#x00A0;<span 
class="cmtt-10">}</span>
      <br /><!--x-->&#x00A0;-_-_-</span>

</p>
   <!--l. 3667--><div class="crosslinks"><p class="noindent">[<a 
 href="xtpipessu49.html" >next</a>] [<a 
 href="xtpipessu48.html" >prev</a>] [<a 
 href="xtpipessu48.html#tailxtpipessu48.html" >prev-tail</a>] [<a 
 href="xtpipessu47.html" >front</a>] [<a 
 href="xtpipessu47.html#xtpipesse10.html" >up</a>] </p></div>
<!--l. 3667--><p class="indent" >   <a 
  id="tailxtpipessu47.html"></a> </p> 
</body></html> 
